Русский | [Упрощенный китайский](README.md) | [English](README_en.md)

## Описание проекта

![Лицензия](https://img.shields.io/badge/License-Apache%202-red.svg)
![Версия Python](https://img.shields.io/badge/Python-3.12+-blue.svg)
![Поддерживаемые ОС](https://img.shields.io/badge/OS-Windows/macOS/Linux-green.svg)

Video-subtitle-extractor (VSE) — это программа для извлечения вшитых субтитров из видео во внешние файлы субтитров (формат srt).

**⚠️ Важное обновление:** Графический интерфейс был переведён с PyQt на **tkinter**, что обеспечивает лучшую кроссплатформенность и стабильность работы, особенно на Linux-системах.

Основные функции:

- Извлечение ключевых кадров из видео
- Обнаружение местоположения текста в кадрах видео
- Распознавание содержания текста в кадрах видео
- Фильтрация текста за пределами области субтитров
- [Удаление водяных знаков, логотипов телеканалов, исходных жёстких субтитров видео. Совместимо с: video-subtitle-remover (VSR)](https://github.com/YaoFANGUK/video-subtitle-remover/tree/main)
- Удаление повторяющихся строк субтитров, создание файла субтитров srt / текстового файла txt
> Для создания txt файла установите `GENERATE_TXT=True` в `backend/config.py`
- Поддержка **пакетного извлечения** субтитров из видео
- Многоязычность: Поддерживает извлечение субтитров на **87 языках**, включая **упрощённый китайский (китайско-английский двуязычный)**, **традиционный китайский**, **английский**, **японский**, **корейский**, **вьетнамский**, **арабский**, **французский**, **немецкий**, **русский**, **испанский**, **португальский**, **итальянский** и др.
- Несколько режимов:
  - **Быстрый**: (Рекомендуется) Использует облегчённую модель для быстрого извлечения субтитров. Возможна незначительная потеря субтитров или наличие опечаток.
  - **Автоматический**: (Рекомендуется) Автоматически выбирает модель. На CPU использует облегчённую модель; на GPU использует точную модель. Скорость извлечения субтитров ниже, возможна незначительная потеря субтитров, опечаток практически нет.
  - **Точный**: (Не рекомендуется) Использует точную модель, на GPU проверяет каждый кадр. Не теряет субтитры, опечаток практически нет, но скорость **очень низкая**.

> Рекомендуется сначала использовать быстрый или автоматический режим. Если в этих режимах наблюдается значительная потеря субтитров, тогда используйте точный режим.

<p style="text-align:center;"><img src="https://github.com/YaoFANGUK/video-subtitle-extractor/raw/main/design/demo.png" alt="demo.png"/></p>

**Особенности проекта**:

- **Новый tkinter GUI**: Интерфейс был переписан с PyQt на tkinter для лучшей совместимости и стабильности на всех платформах.
- Использует локальное распознавание OCR. Не требует настройки или вызова каких-либо API, не нужно подключать онлайн-сервисы OCR, такие как Baidu, Alibaba. Всё выполняется локально.
- Поддерживает ускорение на GPU (NVIDIA, AMD через DirectML/ROCm, Intel через OpenVINO), что обеспечивает более высокую точность и скорость извлечения.
- **Улучшенная поддержка Linux**: Благодаря переходу на tkinter, интерфейс стал стабильнее работать в Linux-средах.

**Инструкция по использованию**:

- По вопросам использования присоединяйтесь к группам для обсуждения, QQ-группы: 210150985, 816881808

- После нажатия "Открыть" выберите видеофайл, отрегулируйте область субтитров, нажмите "Запуск"
  - Извлечение из одного файла: выберите **один** файл при открытии.
  - **Пакетное извлечение**: выберите **несколько** видеофайлов при открытии. Убедитесь, что разрешение и область субтитров одинаковы для всех видео.

- Удаление текста водяных знаков / замена определённого текста:
> Если в видео есть определённый текст для удаления или замены, отредактируйте файл `backend/configs/typoMap.json`, добавив содержимое для замены или удаления.

```json
{
	"l'm": "I'm",
	"l just": "I just",
	"Let'sqo": "Let's go",
	"Iife": "life",
	"威筋": "威胁",
  	"性感荷官在线发牌": ""
}
